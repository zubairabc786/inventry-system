exports.id=57,exports.ids=[57],exports.modules={3965:(e,a,t)=>{let c={"091d73d95320b036c57ef7d96d5e05ab7311a613":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.createUser),"09a35ed028ace98a546c7941d82389dedd03aca0":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getJournalEntries1),"0f43a19a198e50d66f8812d5c82ec5ce51a2f043":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.CoaDetail),"11a235eb1d04e541768b31e6f21a7d7a17a567a9":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.updateJournal),"134ebd23ed5d7398731a79af0c130c1ba5e720b1":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getJournalEntries),"382cffa6fab359d0e100dfc1f8ca2ce0d621a801":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getDropdownDataJornal),"39c789efd65e411bdad465608ed5b232e577a748":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getStockTableLessFive),"42fa3d8a19af81e5b592d3f23d853b67b72711d9":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.createProduct),"4c809af6775a8bcc983e051c557925a929b83421":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getInventWithPurchase),"4e687357918295a68f0b3d1b4d5434d1c3f82501":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getAllJournalsDV),"51ce2a1c9289abbc06b012664d6a439ad3deb4e6":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getJournalById),"52c194031b9970623c85b0a24c424c974c8cefec":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.deleteJornalMaster),"6ca0d13716ec2e1de55299573eab2a5058b37b08":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.createCOA),"8dc13c579d855e7071caf38e0aca70c0929d46eb":()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.createPurchaseSheet),af28085dac97ece90a9b47c2b651a736367cd566:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.createJournal),b93a02faedcd35fa57d2264e59e1e5410f2f7040:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.updatePurchaseByDocId),c18c8b12a7e0de24f9d14dfe249593a85ff347b9:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getTrialBalance),c581f3dd1f7d38ed7cae01b669acf535a04e3572:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getAllJournalsJV),c93ab26931ca5734d5e62318905e2804181cb60a:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getDropdownData),cb4f4b774b9d88b3c534434328e16fcbad7a9269:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.lastCOA),d471c79f1681404af2366afb867205d40261192f:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getStockTable),da7ec353ccbd534acbfb4a33d31ef910814f3f10:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getDashboardData),e96912272c67976ddd4249bc8ffb96d731a7bf50:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getProducts),f2b90191f662ed14e70f2489c6a5fa375a55291d:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getInventWithSale),f52e47321e04054eca09b13a02ffa54c11e5ff02:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.getPurchaseByDocId),f5b6016afb0036b672a9f51a7dabee39e721b800:()=>Promise.resolve().then(t.bind(t,3322)).then(e=>e.deleteInventMasterPurchase)};async function d(e,...a){return(await c[e]()).apply(null,a)}e.exports={"091d73d95320b036c57ef7d96d5e05ab7311a613":d.bind(null,"091d73d95320b036c57ef7d96d5e05ab7311a613"),"09a35ed028ace98a546c7941d82389dedd03aca0":d.bind(null,"09a35ed028ace98a546c7941d82389dedd03aca0"),"0f43a19a198e50d66f8812d5c82ec5ce51a2f043":d.bind(null,"0f43a19a198e50d66f8812d5c82ec5ce51a2f043"),"11a235eb1d04e541768b31e6f21a7d7a17a567a9":d.bind(null,"11a235eb1d04e541768b31e6f21a7d7a17a567a9"),"134ebd23ed5d7398731a79af0c130c1ba5e720b1":d.bind(null,"134ebd23ed5d7398731a79af0c130c1ba5e720b1"),"382cffa6fab359d0e100dfc1f8ca2ce0d621a801":d.bind(null,"382cffa6fab359d0e100dfc1f8ca2ce0d621a801"),"39c789efd65e411bdad465608ed5b232e577a748":d.bind(null,"39c789efd65e411bdad465608ed5b232e577a748"),"42fa3d8a19af81e5b592d3f23d853b67b72711d9":d.bind(null,"42fa3d8a19af81e5b592d3f23d853b67b72711d9"),"4c809af6775a8bcc983e051c557925a929b83421":d.bind(null,"4c809af6775a8bcc983e051c557925a929b83421"),"4e687357918295a68f0b3d1b4d5434d1c3f82501":d.bind(null,"4e687357918295a68f0b3d1b4d5434d1c3f82501"),"51ce2a1c9289abbc06b012664d6a439ad3deb4e6":d.bind(null,"51ce2a1c9289abbc06b012664d6a439ad3deb4e6"),"52c194031b9970623c85b0a24c424c974c8cefec":d.bind(null,"52c194031b9970623c85b0a24c424c974c8cefec"),"6ca0d13716ec2e1de55299573eab2a5058b37b08":d.bind(null,"6ca0d13716ec2e1de55299573eab2a5058b37b08"),"8dc13c579d855e7071caf38e0aca70c0929d46eb":d.bind(null,"8dc13c579d855e7071caf38e0aca70c0929d46eb"),af28085dac97ece90a9b47c2b651a736367cd566:d.bind(null,"af28085dac97ece90a9b47c2b651a736367cd566"),b93a02faedcd35fa57d2264e59e1e5410f2f7040:d.bind(null,"b93a02faedcd35fa57d2264e59e1e5410f2f7040"),c18c8b12a7e0de24f9d14dfe249593a85ff347b9:d.bind(null,"c18c8b12a7e0de24f9d14dfe249593a85ff347b9"),c581f3dd1f7d38ed7cae01b669acf535a04e3572:d.bind(null,"c581f3dd1f7d38ed7cae01b669acf535a04e3572"),c93ab26931ca5734d5e62318905e2804181cb60a:d.bind(null,"c93ab26931ca5734d5e62318905e2804181cb60a"),cb4f4b774b9d88b3c534434328e16fcbad7a9269:d.bind(null,"cb4f4b774b9d88b3c534434328e16fcbad7a9269"),d471c79f1681404af2366afb867205d40261192f:d.bind(null,"d471c79f1681404af2366afb867205d40261192f"),da7ec353ccbd534acbfb4a33d31ef910814f3f10:d.bind(null,"da7ec353ccbd534acbfb4a33d31ef910814f3f10"),e96912272c67976ddd4249bc8ffb96d731a7bf50:d.bind(null,"e96912272c67976ddd4249bc8ffb96d731a7bf50"),f2b90191f662ed14e70f2489c6a5fa375a55291d:d.bind(null,"f2b90191f662ed14e70f2489c6a5fa375a55291d"),f52e47321e04054eca09b13a02ffa54c11e5ff02:d.bind(null,"f52e47321e04054eca09b13a02ffa54c11e5ff02"),f5b6016afb0036b672a9f51a7dabee39e721b800:d.bind(null,"f5b6016afb0036b672a9f51a7dabee39e721b800")}},1261:(e,a,t)=>{let c={"44ad850dddddc5a34c25849aa5d4235a7f178aa7":()=>Promise.resolve().then(t.bind(t,4635)).then(e=>e.logout),f5fb3170e783e7e8e72eeff33ffd2890744d1804:()=>Promise.resolve().then(t.bind(t,4635)).then(e=>e.login)};async function d(e,...a){return(await c[e]()).apply(null,a)}e.exports={"44ad850dddddc5a34c25849aa5d4235a7f178aa7":d.bind(null,"44ad850dddddc5a34c25849aa5d4235a7f178aa7"),f5fb3170e783e7e8e72eeff33ffd2890744d1804:d.bind(null,"f5fb3170e783e7e8e72eeff33ffd2890744d1804")}},2778:(e,a,t)=>{Promise.resolve().then(t.bind(t,1520))},6596:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},5161:()=>{},1520:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var c=t(2295),d=t(783),n=t.n(d),r=t(2254),o=t(1223),s=t.n(o),i=t(1717);let u=()=>c.jsx("form",{action:i.k,children:c.jsx("button",{type:"submit",className:" mr-5 bg-blue-600 text-white px-4 py-2 rounded",children:"LogOut"})});function l(){let e=(0,r.usePathname)();return c.jsx("div",{className:"fixed top-0 left-0 z-50 w-full bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg h-20",children:(0,c.jsxs)("div",{className:"flex justify-between items-center h-full max-w-7xl mx-auto px-4",children:[(0,c.jsxs)(n(),{href:"/dashboard-inventry",className:"flex items-center space-x-2",children:[c.jsx(s(),{src:"/inventory.png",alt:"Inventory",width:50,height:50,className:"hover:scale-105 transition-transform duration-200"}),c.jsx("span",{className:"text-xl font-bold hidden md:inline-block bg-gradient-to-r from-blue-200 to-blue-400 bg-clip-text text-transparent",children:"Inventory Pro"})]}),c.jsx("div",{className:" flex space-x-1 md:space-x-2 items-center",children:[{name:"Dashboard",href:"/dashboard-inventry"},{name:"Products",href:"/products"},{name:"Sales",href:"/sale-sheet"},{name:"Purchases",href:"/purchase-sheet"},{name:"Stock",href:"/stock-detail"},{name:"Chart of Accounts",href:"/coa"},{name:"Ledger Entries",href:"/jornal-jv-form"}].map(a=>c.jsx(n(),{href:a.href,className:` nav_link
                px-3 py-2 rounded-md text-sm font-medium transition-all duration-200
                ${e===a.href?"bg-blue-600 text-white shadow-md":"text-gray-300 hover:text-white hover:bg-gray-700"}
                hover:shadow-lg
              `,children:a.name},a.name))}),c.jsx("div",{className:"ml-4",children:c.jsx(u,{})})]})})}},1717:(e,a,t)=>{"use strict";t.d(a,{k:()=>d,x:()=>n}),t(3664);var c=t(8371),d=(0,c.$)("44ad850dddddc5a34c25849aa5d4235a7f178aa7"),n=(0,c.$)("f5fb3170e783e7e8e72eeff33ffd2890744d1804")},3481:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var c=t(5036);let d=(0,t(6843).createProxy)(String.raw`D:\Next js Projects\Inventry system in next js\e-commerce\app\(inventory)\components\Navbar.jsx`),{__esModule:n,$$typeof:r}=d,o=d.default;var s=t(8566),i=t(4551);async function u({children:e}){return(await (0,s.G)()).user||(0,i.redirect)("/login"),c.jsx(c.Fragment,{children:e})}async function l({children:e}){return await (0,s.G)(),(0,c.jsxs)(u,{children:[c.jsx(o,{}),e]})}},3322:(e,a,t)=>{"use strict";t.r(a),t.d(a,{CoaDetail:()=>f,createCOA:()=>l,createJournal:()=>I,createProduct:()=>b,createPurchaseSheet:()=>_,createUser:()=>F,deleteInventMasterPurchase:()=>P,deleteJornalMaster:()=>D,getAllJournalsDV:()=>Z,getAllJournalsJV:()=>C,getDashboardData:()=>E,getDropdownData:()=>m,getDropdownDataJornal:()=>k,getInventWithPurchase:()=>y,getInventWithSale:()=>w,getJournalById:()=>J,getJournalEntries:()=>O,getJournalEntries1:()=>U,getProducts:()=>h,getPurchaseByDocId:()=>g,getStockTable:()=>M,getStockTableLessFive:()=>N,getTrialBalance:()=>S,lastCOA:()=>u,updateJournal:()=>A,updatePurchaseByDocId:()=>v});var c=t(4471);t(8616);var d=t(8909),n=t(4551),r=t(2196),o=t(7529),s=t(2053);let i=r.z.object({account_code:r.z.string(),account_name:r.z.string(),contact_no:r.z.coerce.number(),address:r.z.string()});async function u(){let e=await d.Z.COA.findFirst({orderBy:{account_code:"desc"}});return e?(parseInt(e.account_code,10)+1).toString():"20010001"}async function l(e){let a=await u(),t=i.safeParse({account_code:a,account_name:e.get("account_name"),contact_no:e.get("contact_no"),address:e.get("address")});return t.success?{success:!0,result:await d.Z?.COA.create({data:t.data})}:{error:t.error.flatten()}}async function f(){return await d.Z.COA.findMany()||(0,n.notFound)()}async function b(e){try{let a=await d.Z.Product.findFirst({orderBy:{product_code:"desc"}}),t=a?parseInt(a.product_code)+1:2001,c={product_code:t.toString(),product_name:e.get("product_name"),product_type:e.get("product_type"),sku:"sku:"+t.toString(),purchase_price:parseFloat(e.get("purchase_price")),prophit_percent:parseFloat(e.get("prophit_percent")),price:parseFloat(e.get("price"))};if(isNaN(c.purchase_price)||isNaN(c.prophit_percent)||isNaN(c.price))throw Error("Invalid numeric values in form data");let n=await d.Z.Product.create({data:c});return{success:!0,newCode:t.toString(),nextProductCode:t,product:n}}catch(e){return console.error("Error creating product:",e),{success:!1,message:e.message||"Failed to create product"}}}async function h(){return await d.Z.Product.findMany({select:{product_code:!0,product_name:!0,product_type:!0,sku:!0,purchase_price:!0,prophit_percent:!0,price:!0}})||(0,n.notFound)()}async function p(){let e=await d.Z.InventMaster.findFirst({orderBy:{doc_id:"desc"}});return e?e.doc_id+1:1}async function _(e){let a=await p(),t=e.get("doc_type"),c=parseFloat(e.get("calculated_discount")),n=e.get("purchase_code"),r=new Date(e.get("dated")),o=JSON.parse(e.get("items")).map(e=>{let a=parseFloat(e.quantity),c=parseFloat(e.price);return{product_code:e.product_code,quantity:a,price:c,amount:a*c,remarks:e.remarks||"",doc_type:t}}),s=o.reduce((e,a)=>e+a.quantity,0),i=o.length,u=o.reduce((e,a)=>e+a.amount,0);return await d.Z.InventMaster.create({data:{invoice_no:Math.floor(1e5*Math.random()),doc_id:a,purchase_code:n,doc_type:t,dated:r,Purchase:{create:o.map(e=>({...e,total_qty:s,total_item:i,calculated_discount:c||0,grandTotal:u-(c||0)}))}}}),{success:!0,doc_id:a}}async function m(){return{coaList:await d.Z.COA.findMany({select:{account_code:!0,account_name:!0}}),productList:await d.Z.Product.findMany({select:{product_code:!0,product_name:!0,price:!0,purchase_price:!0}})}}async function y(){try{return await d.Z.inventMaster.findMany({include:{COA:!0,Purchase:{include:{Product:!0}}},where:{doc_type:"PV"},orderBy:{createdAt:"asc"}})}catch(e){return console.error("Error fetching InventMaster data:",e.message),[]}}async function w(){try{return await d.Z.inventMaster.findMany({include:{COA:!0,Purchase:{include:{Product:!0}}},where:{doc_type:"SV"},orderBy:{createdAt:"asc"}})}catch(e){return console.error("Error fetching InventMaster data:",e.message),[]}}async function g(e){return await d.Z.InventMaster.findUnique({where:{doc_id:Number(e)},include:{COA:!0,Purchase:{include:{Product:!0}}}})}async function v(e){let a=Number(e.get("doc_id")),t=parseFloat(e.get("grandTotal")),c=parseInt(e.get("totalQty")),n=parseInt(e.get("totalItems"));await d.Z.InventMaster.update({where:{doc_id:a},data:{invoice_no:Number(e.get("invoice_no")),purchase_code:e.get("purchase_code"),dated:new Date(e.get("dated"))}});let r=JSON.parse(e.get("items")),o=JSON.parse(e.get("deletedItems"));for(let e of(o&&o.length>0&&await d.Z.Purchase.deleteMany({where:{id:{in:o}}}),r))await d.Z.Purchase.update({where:{id:e.id},data:{product_code:e.product_code,quantity:parseFloat(e.quantity),price:parseFloat(e.price),amount:parseFloat(e.amount),remarks:e.remarks,total_qty:c,total_item:n,grandTotal:t}});return{success:!0}}async function P(e){try{return await d.Z.purchase.deleteMany({where:{doc_id:e}}),await d.Z.inventMaster.delete({where:{doc_id:e}}),{success:!0}}catch(e){return{success:!1,error:e.message}}}async function M(){let e=await d.Z.Purchase.groupBy({by:["product_code"],where:{doc_type:"PV"},_sum:{quantity:!0}}),a=await d.Z.Purchase.groupBy({by:["product_code"],where:{doc_type:"SV"},_sum:{quantity:!0}}),t={};for(let e of a)t[e.product_code]=e._sum.quantity||0;let c=[];for(let a of e){let e=await d.Z.Product.findUnique({where:{product_code:a.product_code}}),n=a._sum.quantity||0,r=t[a.product_code]||0,o=n-r;c.push({item_code:a.product_code,item_name:e?.product_name||"",Purchase:n,Sale:r,Stock:o,doc_type:"Stock"})}return c}let x=async()=>{let e=await d.Z.JornalMst.findFirst({orderBy:{doc_id:"desc"},select:{doc_id:!0}});return e?e.doc_id+1:1};async function I(e){let{doc_type:a,dated:t,remarks:c,details:n}=e,r=await x();return await d.Z.JornalMst.create({data:{doc_id:r,doc_type:a,dated:new Date(t),remarks:c,JornalDtl:{create:n.map(e=>({account_code:e.account_code,doc_type:a,debit:parseFloat(e.debit),credit:parseFloat(e.credit),remarks:e.remarks}))}}}),{success:!0,doc_id:r}}async function k(){return{coaList:await d.Z.COA.findMany({select:{account_code:!0,account_name:!0}})}}async function C(){return await d.Z.JornalMst.findMany({orderBy:{doc_id:"asc"},include:{JornalDtl:{include:{COA:!0}}},where:{doc_type:"JV"}})}async function Z(){return await d.Z.JornalMst.findMany({orderBy:{doc_id:"asc"},include:{JornalDtl:{include:{COA:!0}}},where:{doc_type:"DV"}})}async function D(e){try{return await d.Z.JornalDtl.deleteMany({where:{doc_id:e}}),await d.Z.JornalMst.delete({where:{doc_id:e}}),{success:!0}}catch(e){return{success:!1,error:e.message}}}async function J(e){return await d.Z.JornalMst.findUnique({where:{doc_id:parseInt(e)},include:{JornalDtl:!0}})}async function A(e,a){let{doc_type:t,dated:c,remarks:n,details:r}=a;return await d.Z.JornalDtl.deleteMany({where:{doc_id:parseInt(e)}}),await d.Z.JornalMst.update({where:{doc_id:parseInt(e)},data:{doc_type:t,dated:new Date(c),remarks:n,JornalDtl:{create:r.map(e=>({account_code:e.account_code,doc_type:t,debit:parseFloat(e.debit),credit:parseFloat(e.credit),remarks:e.remarks}))}}}),{success:!0}}async function O(){let e=await d.Z.Purchase.findMany({include:{InventMaster:{include:{COA:!0}}},where:{doc_type:"PV"}}),a=await d.Z.Purchase.findMany({include:{InventMaster:{include:{COA:!0}}},where:{doc_type:"SV"}}),t=await d.Z.JornalDtl.findMany({include:{JornalMst:!0,COA:!0}}),c=[];e.forEach(e=>{c.push({account_code:e.InventMaster.COA.account_code,account_name:e.InventMaster.COA.account_name,date:e.InventMaster.dated,doc_type:e.doc_type,debit:e.amount,credit:0,remarks:e.remarks||""})}),a.forEach(e=>{c.push({account_code:e.InventMaster.COA.account_code,account_name:e.InventMaster.COA.account_name,date:e.InventMaster.dated,doc_type:e.doc_type,debit:0,credit:e.amount,remarks:e.remarks||""})}),t.forEach(e=>{c.push({account_code:e.account_code,account_name:e.COA.account_name,date:e.JornalMst.dated,doc_type:e.doc_type,debit:e.debit,credit:e.credit,remarks:e.remarks||""})}),c.sort((e,a)=>e.account_code!==a.account_code?e.account_code.localeCompare(a.account_code):new Date(e.date)-new Date(a.date));let n=[],r={};return c.forEach(e=>{r[e.account_code]||(r[e.account_code]=0),r[e.account_code]+=e.debit-e.credit,n.push({...e,balance:r[e.account_code]})}),n}async function S(){try{let e=await O(),a={};e.forEach(e=>{a[e.account_code]||(a[e.account_code]={doc_type:e.doc_type,account_code:e.account_code,account_name:e.account_name,debit:0,credit:0,balance:0}),"SV"===e.doc_type?a[e.account_code].debit+=e.credit:"PV"===e.doc_type?a[e.account_code].credit+=e.debit:(a[e.account_code].debit+=e.debit,a[e.account_code].credit+=e.credit),a[e.account_code].balance=a[e.account_code].debit-a[e.account_code].credit});let t=Object.values(a).sort((e,a)=>e.account_code.localeCompare(a.account_code)),c={account_code:"TOTAL",account_name:"",debit:t.reduce((e,a)=>e+a.debit,0),credit:t.reduce((e,a)=>e+a.credit,0),balance:0,doc_type:""};return t.push(c),t}catch(e){throw console.error("Error generating trial balance:",e),Error("Failed to generate trial balance")}}async function U(e="",a=null,t=null){let c=a&&t?{dated:{gte:new Date(a),lte:new Date(t)}}:{},[n,r,o]=await Promise.all([d.Z.Purchase.findMany({include:{InventMaster:{include:{COA:!0}}},where:{doc_type:"PV",InventMaster:c}}),d.Z.Purchase.findMany({include:{InventMaster:{include:{COA:!0}}},where:{doc_type:"SV",InventMaster:c}}),d.Z.JornalDtl.findMany({include:{JornalMst:!0,COA:!0},where:a&&t?{JornalMst:{dated:{gte:new Date(a),lte:new Date(t)}}}:{}})]),s=[];n.forEach(e=>{s.push({account_code:e.InventMaster.COA.account_code,account_name:e.InventMaster.COA.account_name,date:e.InventMaster.dated,doc_type:e.doc_type,debit:0,credit:e.amount,remarks:e.remarks||""})}),r.forEach(e=>{s.push({account_code:e.InventMaster.COA.account_code,account_name:e.InventMaster.COA.account_name,date:e.InventMaster.dated,doc_type:e.doc_type,debit:e.amount,credit:0,remarks:e.remarks||""})}),o.forEach(e=>{s.push({account_code:e.account_code,account_name:e.COA.account_name,date:e.JornalMst.dated,doc_type:e.doc_type,debit:e.debit,credit:e.credit,remarks:e.remarks||""})});let i=s.filter(a=>a.account_code.toLowerCase().includes(e.toLowerCase())||a.account_name.toLowerCase().includes(e.toLowerCase()));i.sort((e,a)=>e.account_code!==a.account_code?e.account_code.localeCompare(a.account_code):new Date(e.date)-new Date(a.date));let u=[],l={};return i.forEach(e=>{l[e.account_code]||(l[e.account_code]=0),l[e.account_code]+=e.debit-e.credit,u.push({...e,balance:l[e.account_code]})}),u}async function E(){return{sale:await d.Z.Purchase.count({where:{doc_type:"SV"}}),purchase:await d.Z.Purchase.count({where:{doc_type:"PV"}}),product:await d.Z.Product.count()}}async function N(){let e=await d.Z.Purchase.groupBy({by:["product_code"],where:{doc_type:"PV"},_sum:{quantity:!0}}),a=await d.Z.Purchase.groupBy({by:["product_code"],where:{doc_type:"SV"},_sum:{quantity:!0}}),t={};for(let e of a)t[e.product_code]=e._sum.quantity||0;let c=[];for(let a of e){let e=await d.Z.Product.findUnique({where:{product_code:a.product_code}}),n=(a._sum.quantity||0)-(t[a.product_code]||0);n<5&&c.push({item_code:a.product_code,item_name:e?.product_name||"",Stock:n,doc_type:"Stock"})}return c}async function F(e){await d.Z.User.create({data:{name:e.get("name"),password:await o.ZP.hash(e.get("password"),10)}})}(0,s.h)([u,l,f,b,h,_,m,y,w,g,v,P,M,I,k,C,Z,D,J,A,O,S,U,E,N,F]),(0,c.U)("cb4f4b774b9d88b3c534434328e16fcbad7a9269",u),(0,c.U)("6ca0d13716ec2e1de55299573eab2a5058b37b08",l),(0,c.U)("0f43a19a198e50d66f8812d5c82ec5ce51a2f043",f),(0,c.U)("42fa3d8a19af81e5b592d3f23d853b67b72711d9",b),(0,c.U)("e96912272c67976ddd4249bc8ffb96d731a7bf50",h),(0,c.U)("8dc13c579d855e7071caf38e0aca70c0929d46eb",_),(0,c.U)("c93ab26931ca5734d5e62318905e2804181cb60a",m),(0,c.U)("4c809af6775a8bcc983e051c557925a929b83421",y),(0,c.U)("f2b90191f662ed14e70f2489c6a5fa375a55291d",w),(0,c.U)("f52e47321e04054eca09b13a02ffa54c11e5ff02",g),(0,c.U)("b93a02faedcd35fa57d2264e59e1e5410f2f7040",v),(0,c.U)("f5b6016afb0036b672a9f51a7dabee39e721b800",P),(0,c.U)("d471c79f1681404af2366afb867205d40261192f",M),(0,c.U)("af28085dac97ece90a9b47c2b651a736367cd566",I),(0,c.U)("382cffa6fab359d0e100dfc1f8ca2ce0d621a801",k),(0,c.U)("c581f3dd1f7d38ed7cae01b669acf535a04e3572",C),(0,c.U)("4e687357918295a68f0b3d1b4d5434d1c3f82501",Z),(0,c.U)("52c194031b9970623c85b0a24c424c974c8cefec",D),(0,c.U)("51ce2a1c9289abbc06b012664d6a439ad3deb4e6",J),(0,c.U)("11a235eb1d04e541768b31e6f21a7d7a17a567a9",A),(0,c.U)("134ebd23ed5d7398731a79af0c130c1ba5e720b1",O),(0,c.U)("c18c8b12a7e0de24f9d14dfe249593a85ff347b9",S),(0,c.U)("09a35ed028ace98a546c7941d82389dedd03aca0",U),(0,c.U)("da7ec353ccbd534acbfb4a33d31ef910814f3f10",E),(0,c.U)("39c789efd65e411bdad465608ed5b232e577a748",N),(0,c.U)("091d73d95320b036c57ef7d96d5e05ab7311a613",F)},4635:(e,a,t)=>{"use strict";t.r(a),t.d(a,{login:()=>o,logout:()=>s});var c=t(8601);t(5811);var d=t(1903),n=t(1474),r=t(8462);async function o(e,a){let t=a.get("name"),c=a.get("password"),o=await d.default.User.findUnique({where:{name:t}});if(!o||!await r.default.compare(c,o.password))return{ok:!1,error:"Invalid Credential"};let s=await (0,n.getSession)();return s.user={id:o.id,name:o.name},await s.save(),{ok:!0,error:null}}async function s(){return(await (0,n.getSession)()).destroy(),{ok:!0}}(0,t(6893).ensureServerEntryExports)([o,s]),(0,c.createActionProxy)("f5fb3170e783e7e8e72eeff33ffd2890744d1804",o),(0,c.createActionProxy)("44ad850dddddc5a34c25849aa5d4235a7f178aa7",s)},3384:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o,metadata:()=>r});var c=t(5036),d=t(2842),n=t.n(d);t(7272);let r={title:"FoodieHub - Food Delivery App",description:"Order your favorite food online"};function o({children:e}){return c.jsx("html",{lang:"en",children:c.jsx("body",{className:n().className,children:c.jsx("div",{className:"pt-20",children:e})})})}},1474:(e,a,t)=>{"use strict";t.d(a,{getSession:()=>r});var c=t(2420),d=t(9053);let n={password:process.env.SECRET_KEY,cookieName:"zubair_session",cookieOptions:{secure:!0}};function r(){return(0,c.getIronSession)((0,d.cookies)(),n)}},8566:(e,a,t)=>{"use strict";t.d(a,{G:()=>r});var c=t(1014),d=t(2455);let n={password:process.env.SECRET_KEY,cookieName:"zubair_session",cookieOptions:{secure:!0}};function r(){return(0,c.iW)((0,d.cookies)(),n)}},1903:(e,a,t)=>{"use strict";t.d(a,{default:()=>c});let c=new(t(3524)).PrismaClient},8909:(e,a,t)=>{"use strict";t.d(a,{Z:()=>c});let c=new(t(3524)).PrismaClient},7272:()=>{}};