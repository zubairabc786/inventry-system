(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{1495:function(e,c,r){Promise.resolve().then(r.bind(r,3349))},3349:function(e,c,r){"use strict";r.r(c),r.d(c,{default:function(){return i}});var d=r(7437),s=r(9102),t=r.n(s),a=r(8078),n=r(2265);function i(){let e=(0,n.useRef)(null),[c,r]=(0,n.useState)(0),[s,i]=(0,n.useState)(""),[b,o]=(0,n.useState)(""),[f,l]=(0,n.useState)([]),[u,x]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,a.Xp)();l(e),x(!1)}catch(e){console.error("Error fetching products:",e),x(!1)}})()},[]);let m=()=>{let c=e.current;if(!c)return;let d=parseFloat(c.purchase_price.value)||0;r((d+d*(parseFloat(c.prophit_percent.value)||0)/100).toFixed(2))};(0,n.useEffect)(()=>{let c=e.current;if(!c)return;let r=[c.purchase_price,c.prophit_percent];return r.forEach(e=>{e.addEventListener("input",m)}),()=>{r.forEach(e=>{e.removeEventListener("input",m)})}},[]);let p=async c=>{let{success:d,newCode:s,nextProductCode:t}=await (0,a.ry)(c);if(d){var n;i("âœ… Product saved successfully! ".concat(s)),o("Next Product Code is sku:".concat(t)),l(await (0,a.Xp)()),setTimeout(()=>{i(""),o("")},3e3),null===(n=e.current)||void 0===n||n.reset(),r(0)}};return(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f min-h-screen bg-gray-50 p-6",children:[(0,d.jsx)("h1",{className:"jsx-4cd21cb9b64e627f text-3xl font-bold text-gray-800 mb-8",children:"Product Management"}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f flex flex-col lg:flex-row gap-8",children:[(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f lg:w-1/2",children:(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f bg-white rounded-xl shadow-md p-6 sticky top-6",children:[(0,d.jsx)("h2",{className:"jsx-4cd21cb9b64e627f text-2xl font-semibold text-gray-700 mb-6",children:"Add New Product"}),s&&(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f mb-4 p-3 bg-green-50 text-green-700 rounded-lg",children:s}),b&&(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f mb-4 p-3 bg-blue-50 text-blue-700 rounded-lg",children:b}),(0,d.jsxs)("form",{ref:e,id:"product-form",action:p,className:"jsx-4cd21cb9b64e627f space-y-4",children:[(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f",children:[(0,d.jsx)("label",{htmlFor:"product_name",className:"jsx-4cd21cb9b64e627f block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,d.jsx)("input",{type:"text",id:"product_name",name:"product_name",required:!0,className:"jsx-4cd21cb9b64e627f w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f",children:[(0,d.jsx)("label",{htmlFor:"product_type",className:"jsx-4cd21cb9b64e627f block text-sm font-medium text-gray-700 mb-1",children:"Product Type (Unit)"}),(0,d.jsx)("input",{type:"text",id:"product_type",name:"product_type",required:!0,className:"jsx-4cd21cb9b64e627f w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f",children:[(0,d.jsx)("label",{className:"jsx-4cd21cb9b64e627f block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),(0,d.jsx)("input",{type:"number",step:"0.01",id:"purchase_price",name:"purchase_price",required:!0,className:"jsx-4cd21cb9b64e627f w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f",children:[(0,d.jsx)("label",{className:"jsx-4cd21cb9b64e627f block text-sm font-medium text-gray-700 mb-1",children:"Profit Percent"}),(0,d.jsx)("input",{type:"number",step:"0.01",id:"prophit_percent",name:"prophit_percent",className:"jsx-4cd21cb9b64e627f w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]})]}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f",children:[(0,d.jsx)("label",{className:"jsx-4cd21cb9b64e627f block text-sm font-medium text-gray-700 mb-1",children:"Selling Price"}),(0,d.jsx)("input",{type:"number",step:"0.01",id:"price",name:"price",value:c,readOnly:!0,className:"jsx-4cd21cb9b64e627f w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg"})]}),(0,d.jsx)("button",{type:"submit",className:"jsx-4cd21cb9b64e627f w-full py-3 px-4 bg-indigo-600 text-white font-medium rounded-lg shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition",children:"Add Product"})]})]})}),(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f lg:w-1/2",children:(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f bg-white rounded-xl shadow-md overflow-hidden",children:[(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f p-6 border-b border-gray-200",children:(0,d.jsx)("h2",{className:"jsx-4cd21cb9b64e627f text-2xl font-semibold text-gray-700",children:"Product List"})}),u?(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f p-6 flex justify-center",children:(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):0===f.length?(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f p-6 text-center text-gray-500",children:"No products found. Add your first product!"}):(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f h-[calc(100vh-220px)] overflow-y-auto custom-scrollbar",children:(0,d.jsxs)("table",{className:"jsx-4cd21cb9b64e627f min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"jsx-4cd21cb9b64e627f bg-gray-50 sticky top-0",children:(0,d.jsxs)("tr",{className:"jsx-4cd21cb9b64e627f",children:[(0,d.jsx)("th",{scope:"col",className:"jsx-4cd21cb9b64e627f px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,d.jsx)("th",{scope:"col",className:"jsx-4cd21cb9b64e627f px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit Percent"}),(0,d.jsx)("th",{scope:"col",className:"jsx-4cd21cb9b64e627f px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"})]})}),(0,d.jsx)("tbody",{className:"jsx-4cd21cb9b64e627f bg-white divide-y divide-gray-200",children:f.map(e=>(0,d.jsxs)("tr",{className:"jsx-4cd21cb9b64e627f hover:bg-gray-50",children:[(0,d.jsxs)("td",{className:"jsx-4cd21cb9b64e627f px-6 py-4 whitespace-nowrap",children:[(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f text-sm font-medium text-gray-900",children:e.product_name}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f text-xs text-gray-500",children:["SKU: ",e.product_code]})]}),(0,d.jsx)("td",{className:"jsx-4cd21cb9b64e627f px-6 py-4 whitespace-nowrap",children:(0,d.jsx)("div",{className:"jsx-4cd21cb9b64e627f text-sm text-gray-900",children:e.prophit_percent})}),(0,d.jsxs)("td",{className:"jsx-4cd21cb9b64e627f px-6 py-4 whitespace-nowrap",children:[(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f text-sm text-gray-900 font-medium",children:["$",e.price]}),(0,d.jsxs)("div",{className:"jsx-4cd21cb9b64e627f text-xs text-gray-500",children:["Cost: $",e.purchase_price]})]})]},e.product_code))})]})})]})})]}),(0,d.jsx)(t(),{id:"4cd21cb9b64e627f",children:".custom-scrollbar.jsx-4cd21cb9b64e627f::-webkit-scrollbar{width:8px}.custom-scrollbar.jsx-4cd21cb9b64e627f::-webkit-scrollbar-track{background:#f1f1f1;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.custom-scrollbar.jsx-4cd21cb9b64e627f::-webkit-scrollbar-thumb{background:#c7d2fe;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.custom-scrollbar.jsx-4cd21cb9b64e627f::-webkit-scrollbar-thumb:hover{background:#a5b4fc}"})]})}},8078:function(e,c,r){"use strict";r.d(c,{$K:function(){return y},C$:function(){return n},Do:function(){return w},Ey:function(){return f},K6:function(){return m},Ks:function(){return a},OD:function(){return g},OG:function(){return u},Xp:function(){return b},Y$:function(){return v},cY:function(){return t},dH:function(){return N},gM:function(){return j},ie:function(){return l},oN:function(){return h},r4:function(){return s},ry:function(){return i},vA:function(){return x},xg:function(){return o},zV:function(){return p}}),r(5355);var d=r(1162),s=(0,d.$)("091d73d95320b036c57ef7d96d5e05ab7311a613"),t=(0,d.$)("cb4f4b774b9d88b3c534434328e16fcbad7a9269"),a=(0,d.$)("6ca0d13716ec2e1de55299573eab2a5058b37b08"),n=(0,d.$)("0f43a19a198e50d66f8812d5c82ec5ce51a2f043"),i=(0,d.$)("42fa3d8a19af81e5b592d3f23d853b67b72711d9"),b=(0,d.$)("e96912272c67976ddd4249bc8ffb96d731a7bf50"),o=(0,d.$)("8dc13c579d855e7071caf38e0aca70c0929d46eb"),f=(0,d.$)("c93ab26931ca5734d5e62318905e2804181cb60a");(0,d.$)("4c809af6775a8bcc983e051c557925a929b83421"),(0,d.$)("f2b90191f662ed14e70f2489c6a5fa375a55291d");var l=(0,d.$)("f52e47321e04054eca09b13a02ffa54c11e5ff02"),u=(0,d.$)("b93a02faedcd35fa57d2264e59e1e5410f2f7040"),x=(0,d.$)("f5b6016afb0036b672a9f51a7dabee39e721b800");(0,d.$)("d471c79f1681404af2366afb867205d40261192f");var m=(0,d.$)("af28085dac97ece90a9b47c2b651a736367cd566"),p=(0,d.$)("382cffa6fab359d0e100dfc1f8ca2ce0d621a801"),j=(0,d.$)("c581f3dd1f7d38ed7cae01b669acf535a04e3572"),h=(0,d.$)("4e687357918295a68f0b3d1b4d5434d1c3f82501"),g=(0,d.$)("52c194031b9970623c85b0a24c424c974c8cefec"),y=(0,d.$)("51ce2a1c9289abbc06b012664d6a439ad3deb4e6"),N=(0,d.$)("11a235eb1d04e541768b31e6f21a7d7a17a567a9");(0,d.$)("134ebd23ed5d7398731a79af0c130c1ba5e720b1");var v=(0,d.$)("c18c8b12a7e0de24f9d14dfe249593a85ff347b9"),w=(0,d.$)("09a35ed028ace98a546c7941d82389dedd03aca0");(0,d.$)("da7ec353ccbd534acbfb4a33d31ef910814f3f10"),(0,d.$)("39c789efd65e411bdad465608ed5b232e577a748")}},function(e){e.O(0,[308,971,938,744],function(){return e(e.s=1495)}),_N_E=e.O()}]);